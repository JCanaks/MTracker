{"version":3,"sources":["server.js"],"names":["app","requests","requestId","requestType","requestedBy","email","department","description","requestLevel","requestDate","status","validateCourse","request","use","get","req","res","send","find","r","parseInt","params","post","body","length","push","put"],"mappings":"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","file":"server.js","sourceRoot":"C:/Users/JaneAnaekwe/Documents/GitHub/MTracker/src","sourcesContent":["import express, { json } from 'express';\r\n\r\nconst app = express();\r\nconst requests = [\r\n  {\r\n    requestId: 1,\r\n    requestType: 'Repair',\r\n    requestedBy: 'Jane Anaekwe',\r\n    email: 'jane.anaekwe@mail.com',\r\n    department: 'Merchandising',\r\n    description: 'Repair of Department Printer',\r\n    requestLevel: 'Critical',\r\n    requestDate: '11-05-2018',\r\n    status: 'Pending',\r\n  },\r\n  {\r\n    requestId: 2,\r\n    requestType: 'Maintenance',\r\n    requestedBy: 'John Doe',\r\n    email: 'johnny.doe@mail.com',\r\n    department: 'Sales',\r\n    description: 'Maintenance of Sales Bus',\r\n    requestLevel: 'Major',\r\n    requestDate: '14-05-2018',\r\n    status: 'Approved',\r\n  },\r\n  {\r\n    requestId: 3,\r\n    requestType: 'Repair',\r\n    requestedBy: 'Sarah Flowers',\r\n    email: 'sarah.flowers@mail.com',\r\n    department: 'Marketing',\r\n    description: 'Repair of Department PC',\r\n    requestLevel: 'Minor',\r\n    requestDate: '09-05-2018',\r\n    status: 'Rejected',\r\n  },\r\n];\r\n\r\nfunction validateCourse(request) {\r\n  if (!request.requestType || !request.requestDate || !request.email\r\n  || !request.department || !request.description || !request.requestLevel\r\n|| !request.requestDate || !request.status || !request.requestedBy) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\napp.use(json());\r\napp.get('/', (req, res) => {\r\n  res.send('Welcome To Maintenance Tracker App!');\r\n});\r\n\r\napp.get('/users/requests', (req, res) => {\r\n  res.send(requests);\r\n});\r\n\r\napp.get('/users/requests/:requestId', (req, res) => {\r\n  const request = requests.find(r => r.requestId === parseInt(req.params.requestId));\r\n  if (!request) {\r\n    res.status(404).send('The request with the given id was not found');\r\n    return;\r\n  }\r\n\r\n  res.send(request);\r\n});\r\n\r\napp.post('/users/requests', (req, res) => {\r\n  if (!validateCourse(req.body)) {\r\n    res.status(400).send('ERROR: All attributes of a request should be specified');\r\n    return;\r\n  }\r\n  const request = {\r\n    requestId: requests.length + 1,\r\n    requestType: req.body.requestType,\r\n    requestedBy: req.body.requestedBy,\r\n    email: req.body.email,\r\n    department: req.body.department,\r\n    description: req.body.description,\r\n    requestLevel: req.body.requestLevel,\r\n    requestDate: req.body.requestDate,\r\n    status: req.body.status,\r\n  };\r\n  requests.push(request);\r\n  res.send(request);\r\n});\r\n\r\napp.put('/users/requests/:requestId', (req, res) => {\r\n  const request = requests.find(r => r.requestId === parseInt(req.params.requestId));\r\n  if (!request) {\r\n    res.status(404).send('The request with the given id was not found');\r\n    return;\r\n  }\r\n\r\n  if (!validateCourse(req.body)) {\r\n    res.status(400).send('ERROR: All attributes of a request should be specified');\r\n    return;\r\n  }\r\n\r\n  request.requestType = req.body.requestType;\r\n  request.requestedBy = req.body.requestedBy;\r\n  request.email = req.body.email;\r\n  request.department = req.body.department;\r\n  request.description = req.body.description;\r\n  request.requestLevel = req.body.requestLevel;\r\n  request.requestDate = req.body.requestDate;\r\n  request.status = req.body.status;\r\n\r\n  res.send(request);\r\n});\r\n\r\nexport default app;\r\n\r\n"]}